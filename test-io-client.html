<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
        integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
        crossorigin="anonymous"></script>
<script>

    var socket;
    const userToken = '123';

    function init() {
        socket = io.connect('http://localhost:2000/');
        socket.on('bid', sendBid);
        socket.on('connect', onConnect);
        // listen for the 'joined' event
        socket.on('joined', onJoined);
        onConnect();
    }

    function sendBid() {
        socket.emit('bid', {
            bid: document.getElementById("bid_amount").value,
            userToken: userToken
        });
    }

    function onJoined() {
        console.log('joined');
    }

    function onConnect() {
        socket.emit('join', {
            userToken: userToken
        });
    }

    window.addEventListener("load", init, false);
</script>

<div>
    <h2>Placer une offre sur l'ench√®re actuel</h2>

    <img src="https://via.placeholder.com/150" alt="">

    <input type="number" id="bid_amount" value="0" step="0.01" min="0"/>
    <input type="submit" onclick="sendBid()"/>

</div>

<div id="output"></div>
